<div class="container">
  <table>
    <thead>
    <tr>
      <th>День недели</th>
      <th>Завтрак</th>
      <th>Обед</th>
      <th>Ужин</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let day of daysOfWeek">
      <td>{{ day }}</td>
      <td *ngFor="let meal of eatingTimes">
        <div *ngFor="let plan of plans">
          <!-- Проверим, соответствует ли план разделу календаря где он должен быть показан -->
          <ng-container *ngIf="isPlanForDayAndMeal(plan, day, meal)">
            <!-- Теперь покажем ингредиенты для этого плана -->
            <div *ngFor="let ingredient of plan.ingredients">
              {{ ingredient.count }} x {{ ingredient.ingredient.name }}
            </div>
          </ng-container>
        </div>
        <div *ngFor="let ingredientDay of getIngredientsForDayAndMeal(day, meal)">
          {{ ingredientDay.count }} x {{ ingredientDay.ingredient.name }}
        </div>
        <select (change)="onSelectIngredient($event, day, meal)">
          <option *ngFor="let ingredient of ingredients" [value]="ingredient.ingredientId">
            {{ ingredient.name }}
          </option>
        </select>
        <input type="number" [(ngModel)]="selectedAmount[day][meal]" placeholder="Количество">
        <button (click)="addIngredient(day, meal)">Добавить</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
